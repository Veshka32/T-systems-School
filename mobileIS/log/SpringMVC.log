2018-11-23 12:51:25 INFO  servlet:364 - 2 Spring WebApplicationInitializers detected on classpath
2018-11-23 12:51:26 INFO  servlet:364 - Initializing Spring root WebApplicationContext
2018-11-23 12:51:26 INFO  ContextLoader:270 - Root WebApplicationContext: initialization started
2018-11-23 12:51:26 INFO  AnnotationConfigWebApplicationContext:589 - Refreshing Root WebApplicationContext: startup date [Fri Nov 23 12:51:26 MSK 2018]; root of context hierarchy
2018-11-23 12:51:27 INFO  Version:45 - HHH000412: Hibernate Core {5.2.17.Final}
2018-11-23 12:51:27 INFO  Environment:198 - HHH000205: Loaded properties from resource hibernate.properties: {hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect, hibernate.driverClass=com.mysql.jdbc.Driver, hibernate.bytecode.use_reflection_optimizer=false, hibernate.hbm2ddl.auto=update, hibernate.use_sql_comments=true}
2018-11-23 12:51:27 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-11-23 12:51:28 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect
2018-11-23 12:51:28 INFO  Version:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-11-23 12:51:29 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-11-23 12:51:29 INFO  HibernateTransactionManager:378 - Using DataSource [org.jboss.as.connector.subsystems.datasources.WildFlyDataSource@22226208] of Hibernate SessionFactory for HibernateTransactionManager
2018-11-23 12:51:29 INFO  WebMvcConfig:35 - register resourceHandler
2018-11-23 12:51:30 INFO  WebMvcConfig:25 - Set view resolver
2018-11-23 12:51:30 INFO  WebMvcConfig:28 - register UserDetailsService bean
2018-11-23 12:51:30 INFO  WebMvcConfig:46 - configure Http security rules
2018-11-23 12:51:30 INFO  DefaultSecurityFilterChain:43 - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a2d1139, org.springframework.security.web.context.SecurityContextPersistenceFilter@526ce936, org.springframework.security.web.header.HeaderWriterFilter@314d1f1e, org.springframework.security.web.csrf.CsrfFilter@4a021213, org.springframework.security.web.authentication.logout.LogoutFilter@1711e901, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e63228f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4195b02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f3398cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@182280a, org.springframework.security.web.session.SessionManagementFilter@10fb53d5, org.springframework.security.web.access.ExceptionTranslationFilter@2f84e96f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4124237a]
2018-11-23 12:51:30 INFO  ContextLoader:306 - Root WebApplicationContext initialized in 3932 ms
2018-11-23 12:51:30 INFO  servlet:364 - Initializing Spring DispatcherServlet 'dispatcher'
2018-11-23 12:51:30 INFO  DispatcherServlet:521 - Initializing Servlet 'dispatcher'
2018-11-23 12:51:30 INFO  AnnotationConfigWebApplicationContext:589 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Nov 23 12:51:30 MSK 2018]; parent: Root WebApplicationContext
2018-11-23 12:51:30 INFO  DispatcherServlet:543 - Completed initialization in 23 ms
2018-11-23 12:51:32 DEBUG SQL:92 - /* From model.entity.Tariff c  order by c.id desc */ select tariff0_.id as id1_6_, tariff0_.description as descript2_6_, tariff0_.name as name3_6_, tariff0_.price as price4_6_ from Tariff tariff0_ order by tariff0_.id desc limit ?
2018-11-23 12:51:32 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:51:32 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:51:34 DEBUG SQL:92 - /* From model.entity.Tariff c  order by c.id desc */ select tariff0_.id as id1_6_, tariff0_.description as descript2_6_, tariff0_.name as name3_6_, tariff0_.price as price4_6_ from Tariff tariff0_ order by tariff0_.id desc limit ?
2018-11-23 12:51:34 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:51:34 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:52:16 DEBUG SQL:92 - /* From model.entity.Tariff c  order by c.id desc */ select tariff0_.id as id1_6_, tariff0_.description as descript2_6_, tariff0_.name as name3_6_, tariff0_.price as price4_6_ from Tariff tariff0_ order by tariff0_.id desc limit ?
2018-11-23 12:52:16 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:52:16 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:52:18 DEBUG SQL:92 - /* find_user_by_login */ select user0_.id as id1_8_, user0_.contract_id as contract4_8_, user0_.login as login2_8_, user0_.password as password3_8_ from user user0_ where user0_.login=?
2018-11-23 12:52:18 ERROR UsernamePasswordAuthenticationFilter:221 - An internal error occurred while trying to authenticate the user.
org.springframework.security.authentication.InternalAuthenticationServiceException
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:119)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:94)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:124)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at services.implementations.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:32)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy92.loadUserByUsername(Unknown Source)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:104)
	... 66 more
2018-11-23 12:52:19 DEBUG SQL:92 - /* find_user_by_login */ select user0_.id as id1_8_, user0_.contract_id as contract4_8_, user0_.login as login2_8_, user0_.password as password3_8_ from user user0_ where user0_.login=?
2018-11-23 12:52:19 DEBUG SQL:92 - select roles0_.user_id as user_id1_9_0_, roles0_.roles as roles2_9_0_ from user_roles roles0_ where roles0_.user_id=?
2018-11-23 12:52:19 DEBUG SQL:92 - /* From model.entity.Tariff c  order by c.id desc */ select tariff0_.id as id1_6_, tariff0_.description as descript2_6_, tariff0_.name as name3_6_, tariff0_.price as price4_6_ from Tariff tariff0_ order by tariff0_.id desc limit ?
2018-11-23 12:52:19 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:52:19 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:52:20 DEBUG SQL:92 - /* From model.entity.Contract c  order by c.id */ select contract0_.id as id1_1_, contract0_.isBlocked as isBlocke2_1_, contract0_.isBlockedByAdmin as isBlocke3_1_, contract0_.number as number4_1_, contract0_.owner_id as owner_id5_1_, contract0_.tariff_id as tariff_i6_1_ from Contract contract0_ order by contract0_.id limit ?
2018-11-23 12:52:20 DEBUG SQL:92 - select client0_.id as id1_0_0_, client0_.address as address2_0_0_, client0_.birthday as birthday3_0_0_, client0_.email as email4_0_0_, client0_.name as name5_0_0_, client0_.passportId as passport6_0_0_, client0_.surname as surname7_0_0_ from Client client0_ where client0_.id=?
2018-11-23 12:52:20 DEBUG SQL:92 - select tariff0_.id as id1_6_0_, tariff0_.description as descript2_6_0_, tariff0_.name as name3_6_0_, tariff0_.price as price4_6_0_ from Tariff tariff0_ where tariff0_.id=?
2018-11-23 12:52:20 DEBUG SQL:92 - /* load model.entity.User */ select user0_.id as id1_8_3_, user0_.contract_id as contract4_8_3_, user0_.login as login2_8_3_, user0_.password as password3_8_3_, contract1_.id as id1_1_0_, contract1_.isBlocked as isBlocke2_1_0_, contract1_.isBlockedByAdmin as isBlocke3_1_0_, contract1_.number as number4_1_0_, contract1_.owner_id as owner_id5_1_0_, contract1_.tariff_id as tariff_i6_1_0_, client2_.id as id1_0_1_, client2_.address as address2_0_1_, client2_.birthday as birthday3_0_1_, client2_.email as email4_0_1_, client2_.name as name5_0_1_, client2_.passportId as passport6_0_1_, client2_.surname as surname7_0_1_, tariff3_.id as id1_6_2_, tariff3_.description as descript2_6_2_, tariff3_.name as name3_6_2_, tariff3_.price as price4_6_2_ from user user0_ left outer join Contract contract1_ on user0_.contract_id=contract1_.id left outer join Client client2_ on contract1_.owner_id=client2_.id left outer join Tariff tariff3_ on contract1_.tariff_id=tariff3_.id where user0_.contract_id=?
2018-11-23 12:52:20 DEBUG SQL:92 - select client0_.id as id1_0_0_, client0_.address as address2_0_0_, client0_.birthday as birthday3_0_0_, client0_.email as email4_0_0_, client0_.name as name5_0_0_, client0_.passportId as passport6_0_0_, client0_.surname as surname7_0_0_ from Client client0_ where client0_.id=?
2018-11-23 12:52:20 DEBUG SQL:92 - /* load model.entity.User */ select user0_.id as id1_8_3_, user0_.contract_id as contract4_8_3_, user0_.login as login2_8_3_, user0_.password as password3_8_3_, contract1_.id as id1_1_0_, contract1_.isBlocked as isBlocke2_1_0_, contract1_.isBlockedByAdmin as isBlocke3_1_0_, contract1_.number as number4_1_0_, contract1_.owner_id as owner_id5_1_0_, contract1_.tariff_id as tariff_i6_1_0_, client2_.id as id1_0_1_, client2_.address as address2_0_1_, client2_.birthday as birthday3_0_1_, client2_.email as email4_0_1_, client2_.name as name5_0_1_, client2_.passportId as passport6_0_1_, client2_.surname as surname7_0_1_, tariff3_.id as id1_6_2_, tariff3_.description as descript2_6_2_, tariff3_.name as name3_6_2_, tariff3_.price as price4_6_2_ from user user0_ left outer join Contract contract1_ on user0_.contract_id=contract1_.id left outer join Client client2_ on contract1_.owner_id=client2_.id left outer join Tariff tariff3_ on contract1_.tariff_id=tariff3_.id where user0_.contract_id=?
2018-11-23 12:52:20 DEBUG SQL:92 - select client0_.id as id1_0_0_, client0_.address as address2_0_0_, client0_.birthday as birthday3_0_0_, client0_.email as email4_0_0_, client0_.name as name5_0_0_, client0_.passportId as passport6_0_0_, client0_.surname as surname7_0_0_ from Client client0_ where client0_.id=?
2018-11-23 12:52:20 DEBUG SQL:92 - select tariff0_.id as id1_6_0_, tariff0_.description as descript2_6_0_, tariff0_.name as name3_6_0_, tariff0_.price as price4_6_0_ from Tariff tariff0_ where tariff0_.id=?
2018-11-23 12:52:20 DEBUG SQL:92 - /* load model.entity.User */ select user0_.id as id1_8_3_, user0_.contract_id as contract4_8_3_, user0_.login as login2_8_3_, user0_.password as password3_8_3_, contract1_.id as id1_1_0_, contract1_.isBlocked as isBlocke2_1_0_, contract1_.isBlockedByAdmin as isBlocke3_1_0_, contract1_.number as number4_1_0_, contract1_.owner_id as owner_id5_1_0_, contract1_.tariff_id as tariff_i6_1_0_, client2_.id as id1_0_1_, client2_.address as address2_0_1_, client2_.birthday as birthday3_0_1_, client2_.email as email4_0_1_, client2_.name as name5_0_1_, client2_.passportId as passport6_0_1_, client2_.surname as surname7_0_1_, tariff3_.id as id1_6_2_, tariff3_.description as descript2_6_2_, tariff3_.name as name3_6_2_, tariff3_.price as price4_6_2_ from user user0_ left outer join Contract contract1_ on user0_.contract_id=contract1_.id left outer join Client client2_ on contract1_.owner_id=client2_.id left outer join Tariff tariff3_ on contract1_.tariff_id=tariff3_.id where user0_.contract_id=?
2018-11-23 12:52:20 DEBUG SQL:92 - /* select count(*) from model.entity.Contract */ select count(*) as col_0_0_ from Contract contract0_
2018-11-23 12:52:20 DEBUG SQL:92 - /* From model.entity.Client c  order by c.id */ select client0_.id as id1_0_, client0_.address as address2_0_, client0_.birthday as birthday3_0_, client0_.email as email4_0_, client0_.name as name5_0_, client0_.passportId as passport6_0_, client0_.surname as surname7_0_ from Client client0_ order by client0_.id limit ?
2018-11-23 12:52:20 DEBUG SQL:92 - /* select count(*) from model.entity.Client */ select count(*) as col_0_0_ from Client client0_
2018-11-23 12:52:21 DEBUG SQL:92 - /* get_client_by_phone */ select client1_.id as id1_0_, client1_.address as address2_0_, client1_.birthday as birthday3_0_, client1_.email as email4_0_, client1_.name as name5_0_, client1_.passportId as passport6_0_, client1_.surname as surname7_0_ from Contract contract0_ inner join Client client1_ on contract0_.owner_id=client1_.id where contract0_.number=?
2018-11-23 12:52:21 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:52:21 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:52:22 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?, ?
2018-11-23 12:52:22 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:52:22 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?, ?
2018-11-23 12:52:22 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:52:22 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:52:22 DEBUG SQL:92 - /* get_mandatory_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='MANDATORY' and optionrela0_.one_id=?
2018-11-23 12:52:22 DEBUG SQL:92 - /* get_incompatible_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.one_id=?
2018-11-23 12:52:22 DEBUG SQL:92 - /* get_incompatible_names_1 */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.one_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.another_id=?
2018-11-23 12:52:22 DEBUG SQL:92 - /* get_mandatory_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='MANDATORY' and (optionrela0_.one_id in (?))
2018-11-23 12:52:22 DEBUG SQL:92 - /* get_incompatible_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.one_id in (?))
2018-11-23 12:52:22 DEBUG SQL:92 - /* get_incompatible_ids_1 */ select optionrela0_.one_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.another_id in (?))
2018-11-23 12:52:23 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:52:23 DEBUG SQL:92 - /* get_mandatory_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='MANDATORY' and optionrela0_.one_id=?
2018-11-23 12:52:23 DEBUG SQL:92 - /* get_incompatible_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.one_id=?
2018-11-23 12:52:23 DEBUG SQL:92 - /* get_incompatible_names_1 */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.one_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.another_id=?
2018-11-23 12:52:23 DEBUG SQL:92 - /* get_mandatory_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='MANDATORY' and (optionrela0_.one_id in (?))
2018-11-23 12:52:23 DEBUG SQL:92 - /* get_incompatible_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.one_id in (?))
2018-11-23 12:52:23 DEBUG SQL:92 - /* get_incompatible_ids_1 */ select optionrela0_.one_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.another_id in (?))
2018-11-23 12:52:23 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:52:23 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:52:23 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:52:24 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:52:24 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:52:27 DEBUG SQL:92 - /* find_by_name */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ where option0_.name=?
2018-11-23 12:52:27 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:52:28 DEBUG SQL:92 - /* find_by_name */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ where option0_.name=?
2018-11-23 12:52:28 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:53:25 DEBUG SQL:92 - /* find_user_by_login */ select user0_.id as id1_8_, user0_.contract_id as contract4_8_, user0_.login as login2_8_, user0_.password as password3_8_ from user user0_ where user0_.login=?
2018-11-23 12:53:25 DEBUG SQL:92 - select roles0_.user_id as user_id1_9_0_, roles0_.roles as roles2_9_0_ from user_roles roles0_ where roles0_.user_id=?
2018-11-23 12:53:25 DEBUG SQL:92 - /* From model.entity.Tariff c  order by c.id desc */ select tariff0_.id as id1_6_, tariff0_.description as descript2_6_, tariff0_.name as name3_6_, tariff0_.price as price4_6_ from Tariff tariff0_ order by tariff0_.id desc limit ?
2018-11-23 12:53:25 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:53:25 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:53:28 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:53:28 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:53:30 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?, ?
2018-11-23 12:53:30 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:53:48 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:53:48 DEBUG SQL:92 - /* get_mandatory_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='MANDATORY' and optionrela0_.one_id=?
2018-11-23 12:53:48 DEBUG SQL:92 - /* get_incompatible_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.one_id=?
2018-11-23 12:53:48 DEBUG SQL:92 - /* get_incompatible_names_1 */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.one_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.another_id=?
2018-11-23 12:53:48 DEBUG SQL:92 - /* get_mandatory_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='MANDATORY' and (optionrela0_.one_id in (?))
2018-11-23 12:53:48 DEBUG SQL:92 - /* get_incompatible_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.one_id in (?))
2018-11-23 12:53:48 DEBUG SQL:92 - /* get_incompatible_ids_1 */ select optionrela0_.one_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.another_id in (?))
2018-11-23 12:53:48 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:53:51 DEBUG SQL:92 - /* is_option_used_in_Contract */ select contract0_.id as col_0_0_ from Contract contract0_ inner join contract_option options1_ on contract0_.id=options1_.contract_id inner join option_ option2_ on options1_.option_id=option2_.id where option2_.id=? limit ?
2018-11-23 12:53:51 DEBUG SQL:92 - /* is_option_used_in_Tariff */ select tariff0_.id as col_0_0_ from Tariff tariff0_ inner join tariff_option options1_ on tariff0_.id=options1_.tariff_id inner join option_ option2_ on options1_.option_id=option2_.id where option2_.id=? limit ?
2018-11-23 12:53:51 DEBUG SQL:92 - /* is_option_Mandatory */ select optionrela0_.id as id1_5_, optionrela0_.another_id as another_3_5_, optionrela0_.one_id as one_id4_5_, optionrela0_.relation as relation2_5_ from optionRelation optionrela0_ where optionrela0_.another_id=? limit ?
2018-11-23 12:53:51 DEBUG SQL:92 - /* delete_mandatory */ delete from optionRelation where one_id=? and relation='MANDATORY'
2018-11-23 12:53:51 DEBUG SQL:92 - /* delete_incompatible */ delete from optionRelation where (one_id=? or another_id=?) and relation='INCOMPATIBLE'
2018-11-23 12:53:51 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:53:51 DEBUG SQL:92 - /* delete model.entity.Option */ delete from option_ where id=?
2018-11-23 12:53:51 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:53:51 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:54:37 DEBUG SQL:92 - /* From model.entity.Tariff c  order by c.id desc */ select tariff0_.id as id1_6_, tariff0_.description as descript2_6_, tariff0_.name as name3_6_, tariff0_.price as price4_6_ from Tariff tariff0_ order by tariff0_.id desc limit ?
2018-11-23 12:54:37 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:54:37 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:54:40 DEBUG SQL:92 - /* find_user_by_login */ select user0_.id as id1_8_, user0_.contract_id as contract4_8_, user0_.login as login2_8_, user0_.password as password3_8_ from user user0_ where user0_.login=?
2018-11-23 12:54:40 ERROR UsernamePasswordAuthenticationFilter:221 - An internal error occurred while trying to authenticate the user.
org.springframework.security.authentication.InternalAuthenticationServiceException
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:119)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:144)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199)
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:94)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:124)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)
	at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)
	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)
	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)
	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)
	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:292)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)
	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)
	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)
	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)
	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1502)
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)
	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:360)
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)
	at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)
	at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1985)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1487)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1378)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.lang.NullPointerException
	at services.implementations.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:32)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:294)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy92.loadUserByUsername(Unknown Source)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:104)
	... 66 more
2018-11-23 12:54:40 DEBUG SQL:92 - /* find_user_by_login */ select user0_.id as id1_8_, user0_.contract_id as contract4_8_, user0_.login as login2_8_, user0_.password as password3_8_ from user user0_ where user0_.login=?
2018-11-23 12:54:40 DEBUG SQL:92 - select roles0_.user_id as user_id1_9_0_, roles0_.roles as roles2_9_0_ from user_roles roles0_ where roles0_.user_id=?
2018-11-23 12:54:40 DEBUG SQL:92 - /* From model.entity.Tariff c  order by c.id desc */ select tariff0_.id as id1_6_, tariff0_.description as descript2_6_, tariff0_.name as name3_6_, tariff0_.price as price4_6_ from Tariff tariff0_ order by tariff0_.id desc limit ?
2018-11-23 12:54:40 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:54:40 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:54:41 DEBUG SQL:92 - /* From model.entity.Contract c  order by c.id */ select contract0_.id as id1_1_, contract0_.isBlocked as isBlocke2_1_, contract0_.isBlockedByAdmin as isBlocke3_1_, contract0_.number as number4_1_, contract0_.owner_id as owner_id5_1_, contract0_.tariff_id as tariff_i6_1_ from Contract contract0_ order by contract0_.id limit ?
2018-11-23 12:54:41 DEBUG SQL:92 - select client0_.id as id1_0_0_, client0_.address as address2_0_0_, client0_.birthday as birthday3_0_0_, client0_.email as email4_0_0_, client0_.name as name5_0_0_, client0_.passportId as passport6_0_0_, client0_.surname as surname7_0_0_ from Client client0_ where client0_.id=?
2018-11-23 12:54:41 DEBUG SQL:92 - select tariff0_.id as id1_6_0_, tariff0_.description as descript2_6_0_, tariff0_.name as name3_6_0_, tariff0_.price as price4_6_0_ from Tariff tariff0_ where tariff0_.id=?
2018-11-23 12:54:41 DEBUG SQL:92 - /* load model.entity.User */ select user0_.id as id1_8_3_, user0_.contract_id as contract4_8_3_, user0_.login as login2_8_3_, user0_.password as password3_8_3_, contract1_.id as id1_1_0_, contract1_.isBlocked as isBlocke2_1_0_, contract1_.isBlockedByAdmin as isBlocke3_1_0_, contract1_.number as number4_1_0_, contract1_.owner_id as owner_id5_1_0_, contract1_.tariff_id as tariff_i6_1_0_, client2_.id as id1_0_1_, client2_.address as address2_0_1_, client2_.birthday as birthday3_0_1_, client2_.email as email4_0_1_, client2_.name as name5_0_1_, client2_.passportId as passport6_0_1_, client2_.surname as surname7_0_1_, tariff3_.id as id1_6_2_, tariff3_.description as descript2_6_2_, tariff3_.name as name3_6_2_, tariff3_.price as price4_6_2_ from user user0_ left outer join Contract contract1_ on user0_.contract_id=contract1_.id left outer join Client client2_ on contract1_.owner_id=client2_.id left outer join Tariff tariff3_ on contract1_.tariff_id=tariff3_.id where user0_.contract_id=?
2018-11-23 12:54:41 DEBUG SQL:92 - select client0_.id as id1_0_0_, client0_.address as address2_0_0_, client0_.birthday as birthday3_0_0_, client0_.email as email4_0_0_, client0_.name as name5_0_0_, client0_.passportId as passport6_0_0_, client0_.surname as surname7_0_0_ from Client client0_ where client0_.id=?
2018-11-23 12:54:41 DEBUG SQL:92 - /* load model.entity.User */ select user0_.id as id1_8_3_, user0_.contract_id as contract4_8_3_, user0_.login as login2_8_3_, user0_.password as password3_8_3_, contract1_.id as id1_1_0_, contract1_.isBlocked as isBlocke2_1_0_, contract1_.isBlockedByAdmin as isBlocke3_1_0_, contract1_.number as number4_1_0_, contract1_.owner_id as owner_id5_1_0_, contract1_.tariff_id as tariff_i6_1_0_, client2_.id as id1_0_1_, client2_.address as address2_0_1_, client2_.birthday as birthday3_0_1_, client2_.email as email4_0_1_, client2_.name as name5_0_1_, client2_.passportId as passport6_0_1_, client2_.surname as surname7_0_1_, tariff3_.id as id1_6_2_, tariff3_.description as descript2_6_2_, tariff3_.name as name3_6_2_, tariff3_.price as price4_6_2_ from user user0_ left outer join Contract contract1_ on user0_.contract_id=contract1_.id left outer join Client client2_ on contract1_.owner_id=client2_.id left outer join Tariff tariff3_ on contract1_.tariff_id=tariff3_.id where user0_.contract_id=?
2018-11-23 12:54:41 DEBUG SQL:92 - select client0_.id as id1_0_0_, client0_.address as address2_0_0_, client0_.birthday as birthday3_0_0_, client0_.email as email4_0_0_, client0_.name as name5_0_0_, client0_.passportId as passport6_0_0_, client0_.surname as surname7_0_0_ from Client client0_ where client0_.id=?
2018-11-23 12:54:41 DEBUG SQL:92 - select tariff0_.id as id1_6_0_, tariff0_.description as descript2_6_0_, tariff0_.name as name3_6_0_, tariff0_.price as price4_6_0_ from Tariff tariff0_ where tariff0_.id=?
2018-11-23 12:54:41 DEBUG SQL:92 - /* load model.entity.User */ select user0_.id as id1_8_3_, user0_.contract_id as contract4_8_3_, user0_.login as login2_8_3_, user0_.password as password3_8_3_, contract1_.id as id1_1_0_, contract1_.isBlocked as isBlocke2_1_0_, contract1_.isBlockedByAdmin as isBlocke3_1_0_, contract1_.number as number4_1_0_, contract1_.owner_id as owner_id5_1_0_, contract1_.tariff_id as tariff_i6_1_0_, client2_.id as id1_0_1_, client2_.address as address2_0_1_, client2_.birthday as birthday3_0_1_, client2_.email as email4_0_1_, client2_.name as name5_0_1_, client2_.passportId as passport6_0_1_, client2_.surname as surname7_0_1_, tariff3_.id as id1_6_2_, tariff3_.description as descript2_6_2_, tariff3_.name as name3_6_2_, tariff3_.price as price4_6_2_ from user user0_ left outer join Contract contract1_ on user0_.contract_id=contract1_.id left outer join Client client2_ on contract1_.owner_id=client2_.id left outer join Tariff tariff3_ on contract1_.tariff_id=tariff3_.id where user0_.contract_id=?
2018-11-23 12:54:41 DEBUG SQL:92 - /* select count(*) from model.entity.Contract */ select count(*) as col_0_0_ from Contract contract0_
2018-11-23 12:54:41 DEBUG SQL:92 - /* From model.entity.Client c  order by c.id */ select client0_.id as id1_0_, client0_.address as address2_0_, client0_.birthday as birthday3_0_, client0_.email as email4_0_, client0_.name as name5_0_, client0_.passportId as passport6_0_, client0_.surname as surname7_0_ from Client client0_ order by client0_.id limit ?
2018-11-23 12:54:41 DEBUG SQL:92 - /* select count(*) from model.entity.Client */ select count(*) as col_0_0_ from Client client0_
2018-11-23 12:54:41 DEBUG SQL:92 - /* get_client_by_phone */ select client1_.id as id1_0_, client1_.address as address2_0_, client1_.birthday as birthday3_0_, client1_.email as email4_0_, client1_.name as name5_0_, client1_.passportId as passport6_0_, client1_.surname as surname7_0_ from Contract contract0_ inner join Client client1_ on contract0_.owner_id=client1_.id where contract0_.number=?
2018-11-23 12:54:42 DEBUG SQL:92 - /* get_client_by_phone */ select client1_.id as id1_0_, client1_.address as address2_0_, client1_.birthday as birthday3_0_, client1_.email as email4_0_, client1_.name as name5_0_, client1_.passportId as passport6_0_, client1_.surname as surname7_0_ from Contract contract0_ inner join Client client1_ on contract0_.owner_id=client1_.id where contract0_.number=?
2018-11-23 12:54:42 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:54:42 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:54:42 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?, ?
2018-11-23 12:54:42 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:54:42 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?, ?
2018-11-23 12:54:42 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:54:42 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:54:42 DEBUG SQL:92 - /* get_mandatory_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='MANDATORY' and optionrela0_.one_id=?
2018-11-23 12:54:42 DEBUG SQL:92 - /* get_incompatible_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.one_id=?
2018-11-23 12:54:42 DEBUG SQL:92 - /* get_incompatible_names_1 */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.one_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.another_id=?
2018-11-23 12:54:42 DEBUG SQL:92 - /* get_mandatory_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='MANDATORY' and (optionrela0_.one_id in (?))
2018-11-23 12:54:42 DEBUG SQL:92 - /* get_incompatible_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.one_id in (?))
2018-11-23 12:54:42 DEBUG SQL:92 - /* get_incompatible_ids_1 */ select optionrela0_.one_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.another_id in (?))
2018-11-23 12:54:43 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:54:43 DEBUG SQL:92 - /* get_mandatory_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='MANDATORY' and optionrela0_.one_id=?
2018-11-23 12:54:43 DEBUG SQL:92 - /* get_incompatible_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.one_id=?
2018-11-23 12:54:43 DEBUG SQL:92 - /* get_incompatible_names_1 */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.one_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.another_id=?
2018-11-23 12:54:43 DEBUG SQL:92 - /* get_mandatory_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='MANDATORY' and (optionrela0_.one_id in (?))
2018-11-23 12:54:43 DEBUG SQL:92 - /* get_incompatible_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.one_id in (?))
2018-11-23 12:54:43 DEBUG SQL:92 - /* get_incompatible_ids_1 */ select optionrela0_.one_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.another_id in (?))
2018-11-23 12:54:43 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:54:43 DEBUG SQL:92 - /* From model.entity.Option c  order by c.id */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ order by option0_.id limit ?
2018-11-23 12:54:43 DEBUG SQL:92 - /* select count(*) from model.entity.Option */ select count(*) as col_0_0_ from option_ option0_
2018-11-23 12:54:43 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:54:44 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:54:46 DEBUG SQL:92 - /* find_by_name */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ where option0_.name=?
2018-11-23 12:54:46 DEBUG SQL:92 - /* get_mandatory_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='MANDATORY' and (optionrela0_.one_id in (? , ? , ? , ? , ? , ? , ? , ?))
2018-11-23 12:54:46 DEBUG SQL:92 - /* get_incompatible_for */ select optionrela0_.id as id1_5_, optionrela0_.another_id as another_3_5_, optionrela0_.one_id as one_id4_5_, optionrela0_.relation as relation2_5_ from optionRelation optionrela0_ where (optionrela0_.one_id in (? , ? , ? , ? , ? , ? , ? , ?)) and (optionrela0_.another_id in (? , ? , ? , ? , ? , ? , ? , ?)) and optionrela0_.relation='INCOMPATIBLE'
2018-11-23 12:54:46 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:54:46 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:54:46 DEBUG SQL:92 - /* select o.id,o.name from Option o */ select option0_.id as col_0_0_, option0_.name as col_1_0_ from option_ option0_
2018-11-23 12:54:47 DEBUG SQL:92 - /* find_by_name */ select option0_.id as id1_4_, option0_.description as descript2_4_, option0_.name as name3_4_, option0_.price as price4_4_, option0_.subscribeCost as subscrib5_4_ from option_ option0_ where option0_.name=?
2018-11-23 12:54:47 DEBUG SQL:92 - /* get_mandatory_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='MANDATORY' and (optionrela0_.one_id in (? , ?))
2018-11-23 12:54:47 DEBUG SQL:92 - /* get_incompatible_for */ select optionrela0_.id as id1_5_, optionrela0_.another_id as another_3_5_, optionrela0_.one_id as one_id4_5_, optionrela0_.relation as relation2_5_ from optionRelation optionrela0_ where (optionrela0_.one_id in (? , ?)) and (optionrela0_.another_id in (? , ?)) and optionrela0_.relation='INCOMPATIBLE'
2018-11-23 12:54:47 DEBUG SQL:92 - /* insert model.entity.Option */ insert into option_ (description, name, price, subscribeCost) values (?, ?, ?, ?)
2018-11-23 12:54:47 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:54:47 DEBUG SQL:92 - /* insert model.entity.OptionRelation */ insert into optionRelation (another_id, one_id, relation) values (?, ?, ?)
2018-11-23 12:54:47 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:54:47 DEBUG SQL:92 - /* insert model.entity.OptionRelation */ insert into optionRelation (another_id, one_id, relation) values (?, ?, ?)
2018-11-23 12:54:47 DEBUG SQL:92 - select option0_.id as id1_4_0_, option0_.description as descript2_4_0_, option0_.name as name3_4_0_, option0_.price as price4_4_0_, option0_.subscribeCost as subscrib5_4_0_ from option_ option0_ where option0_.id=?
2018-11-23 12:54:47 DEBUG SQL:92 - /* get_mandatory_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='MANDATORY' and optionrela0_.one_id=?
2018-11-23 12:54:47 DEBUG SQL:92 - /* get_incompatible_names */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.another_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.one_id=?
2018-11-23 12:54:47 DEBUG SQL:92 - /* get_incompatible_names_1 */ select option1_.name as col_0_0_ from optionRelation optionrela0_ cross join option_ option1_ where optionrela0_.one_id=option1_.id and optionrela0_.relation='INCOMPATIBLE' and optionrela0_.another_id=?
2018-11-23 12:54:47 DEBUG SQL:92 - /* get_mandatory_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='MANDATORY' and (optionrela0_.one_id in (?))
2018-11-23 12:54:47 DEBUG SQL:92 - /* get_incompatible_ids */ select optionrela0_.another_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.one_id in (?))
2018-11-23 12:54:47 DEBUG SQL:92 - /* get_incompatible_ids_1 */ select optionrela0_.one_id as col_0_0_ from optionRelation optionrela0_ where optionrela0_.relation='INCOMPATIBLE' and (optionrela0_.another_id in (?))
2018-11-23 12:55:03 DEBUG SQL:92 - /* From model.entity.Client c  order by c.id */ select client0_.id as id1_0_, client0_.address as address2_0_, client0_.birthday as birthday3_0_, client0_.email as email4_0_, client0_.name as name5_0_, client0_.passportId as passport6_0_, client0_.surname as surname7_0_ from Client client0_ order by client0_.id limit ?
2018-11-23 12:55:03 DEBUG SQL:92 - /* select count(*) from model.entity.Client */ select count(*) as col_0_0_ from Client client0_
2018-11-23 12:55:08 DEBUG SQL:92 - /* get_client_by_phone */ select client1_.id as id1_0_, client1_.address as address2_0_, client1_.birthday as birthday3_0_, client1_.email as email4_0_, client1_.name as name5_0_, client1_.passportId as passport6_0_, client1_.surname as surname7_0_ from Contract contract0_ inner join Client client1_ on contract0_.owner_id=client1_.id where contract0_.number=?
2018-11-23 12:57:04 DEBUG SQL:92 - /* From model.entity.Client c  order by c.id */ select client0_.id as id1_0_, client0_.address as address2_0_, client0_.birthday as birthday3_0_, client0_.email as email4_0_, client0_.name as name5_0_, client0_.passportId as passport6_0_, client0_.surname as surname7_0_ from Client client0_ order by client0_.id limit ?
2018-11-23 12:57:04 DEBUG SQL:92 - /* select count(*) from model.entity.Client */ select count(*) as col_0_0_ from Client client0_
2018-11-23 12:57:08 DEBUG SQL:92 - /* get_client_by_phone */ select client1_.id as id1_0_, client1_.address as address2_0_, client1_.birthday as birthday3_0_, client1_.email as email4_0_, client1_.name as name5_0_, client1_.passportId as passport6_0_, client1_.surname as surname7_0_ from Contract contract0_ inner join Client client1_ on contract0_.owner_id=client1_.id where contract0_.number=?
2018-11-23 12:57:58 INFO  servlet:364 - Destroying Spring FrameworkServlet 'dispatcher'
2018-11-23 12:57:58 INFO  AnnotationConfigWebApplicationContext:989 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Nov 23 12:51:30 MSK 2018]; parent: Root WebApplicationContext
2018-11-23 12:57:58 INFO  servlet:364 - Closing Spring root WebApplicationContext
2018-11-23 12:57:58 INFO  AnnotationConfigWebApplicationContext:989 - Closing Root WebApplicationContext: startup date [Fri Nov 23 12:51:26 MSK 2018]; root of context hierarchy
